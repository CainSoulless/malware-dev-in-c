/* Just change the username on all the path (for now), and compile with:
    gcc main.c -o main
*/
#include <windows.h>
#include <unistd.h>
#include <stdbool.h>
#include <stdio.h>
#include <string.h>

void wallpaper_changer()
{
    char imagePath[] = "C:\\Users\\cain\\Documents\\programming\\novios\\img\\wallpaper.png";

    // if (access(imagePath, F_OK) == -1)
    // {
    //     printf("Error, exit");
    //     exit(1);
    // }
    SystemParametersInfoA(SPI_SETDESKWALLPAPER, 0, imagePath, SPIF_UPDATEINIFILE | SPIF_SENDWININICHANGE);
}

void file_maker()
{
    char filename[30];
    FILE *fFile;

    for (int i = 849338; i < 849438; i++)
    {
        sprintf(filename, "C:\\Users\\cain\\Desktop\\%d.evil", i);
        fFile = fopen(filename, "w");
        fclose(fFile);
    }
}

void messages_spam()
{
    for (int i = 0; i < 3; i++)
    {
        MessageBoxW(NULL, L"地獄降臨人間，為的是毫無偏見地消滅所有塵世間的凡人", L"Fatal", MB_OK | MB_ICONHAND);
    }
}

void messages() 
{
    bool bOption = false;

    int response = MessageBoxW(NULL, L"Quieres ser mi novia? <3", L"Informacion", MB_YESNO | MB_ICONASTERISK);

    if (response == IDNO)
    {

        for (int i = 0; i < 5; i++)
        {
           MessageBoxW(NULL, L"...Seguro?", L"Advertencia", MB_YESNO | MB_ICONEXCLAMATION );
        }
    }
}

int main(void)
{
    ShowWindow(GetConsoleWindow(), SW_HIDE);
    messages();
    wallpaper_changer();
    messages_spam();
    // file_maker();

    return EXIT_SUCCESS;
}